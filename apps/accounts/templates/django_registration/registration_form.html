{% extends 'base.html' %}

{% load webpack_static from webpack_loader %}

{% block header %}{% endblock %}
{% block content %}
  <div class="row main-row">
    <div class="col-6 left-side">
      <div class="background"></div>
      <a href="{% url 'index' %}"><img src="{% webpack_static 'img/black-logo.svg' %}" alt="logo"></a>
        <img class="login-img" src="{% webpack_static 'img/login-image.png' %}" alt="">
      <p>© SkillHub 2022</p>
    </div>

    <div class="col-6 login--wrapper">
        <h1 class="login-title">Регистрация</h1>
        <p class="login-text" >
          Уже есть аккаунт?
          <a href="{% url 'accounts:login' %}">Войти</a>
        </p>

        <!-- Вывод ошибок -->
        <div>
          {% if form.non_field_errors %}
            {% for error in form.non_field_errors %}
              <p class="text-danger">{{ error }}</p>
            {% endfor %}
          {% endif %}
        </div>

        <!-- Отображение формы -->
        <form method="post" class="form">
          {% csrf_token %}
          {% for field in form %}
            <div class="login-input">

                <p class="text-danger">{{ field.errors.0 }}</p>

              {{ field }}
              <label class="form-control-placeholder">{{ field.label }}</label>
              {% if field.help_text %}
                <div class="form-text">{{ field.help_text|safe }}</div>
              {% endif %}
            </div>
          {% endfor %}

          <button type="submit" class="login-button">Зарегистрироваться</button>
        </form>

        <div class="agreement">
            <input type="checkbox" id="check"><label for="check">Даю согласие на обработку моих <a class="personal">персональных данных</a></label>
        </div>

        <div class="social-block">
          <p class="enter-text">Зарегистрироваться с помощью</p>
            <ul class="social-list">
            <li>
                <a href="" class="social-icon">
                    <svg width="30" height="30" version="1.1" id="Yandex_Logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                    y="0px" viewBox="0 0 1080 1080" style="enable-background:new 0 0 1080 1080;" xml:space="preserve">
              <style type="text/css">
                  .st0{fill:#773fff;}
                  .st1{fill:#FFFFFF;}
              </style>
              <circle class="st0" cx="540" cy="540" r="538.9"/>
              <path id="Glyph" class="st1" d="M735,878.3H616.7V293.2H564c-96.6,0-147.2,48.3-147.2,120.4c0,81.8,34.9,119.7,107.1,168l59.5,40.1
                  l-171,256.5H285.2l153.9-229c-88.5-63.2-138.3-124.9-138.3-229c0-130.1,90.7-218.6,262.4-218.6h171v676.5H735z"/>
              </svg>
                </a>
            </li>
                <li>
                    <a href="" class="social-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.7499 17.9428H12.9479C12.9479 17.9428 13.3089 17.9015 13.4929 17.6935C13.6679 17.4995 13.6679 17.1405 13.6679 17.1405C13.6679 17.1405 13.6419 15.4491 14.3919 15.2007C15.1309 14.954 16.0689 16.8333 17.0679 17.5557C17.8309 18.1078 18.4049 17.9893 18.4049 17.9893L21.0809 17.9507C21.0809 17.9507 22.4829 17.8585 21.8199 16.699C21.7689 16.6068 21.4439 15.8432 19.8439 14.2764C18.1679 12.6429 18.3929 12.9062 20.4079 10.0746C21.6319 8.34981 22.1329 7.29561 21.9699 6.84791C21.8319 6.42661 20.9199 6.53111 20.9199 6.53111L17.9189 6.55831C17.9189 6.55831 17.6939 6.53111 17.5309 6.63731C17.3689 6.74171 17.2689 6.98051 17.2689 6.98051C17.2689 6.98051 16.7929 8.32262 16.1559 9.45572C14.8039 11.8511 14.2659 11.9828 14.0539 11.8248C13.5499 11.4816 13.6789 10.438 13.6789 9.69011C13.6789 7.37191 14.0159 6.39851 13.0289 6.14831C12.7039 6.06851 12.4609 6.01671 11.6239 6.00261C10.5489 5.99041 9.64289 6.01141 9.12889 6.27561C8.79089 6.45381 8.52889 6.84791 8.67889 6.86812C8.87889 6.89442 9.32889 6.99631 9.56589 7.33951C9.87889 7.78361 9.8649 8.77551 9.8649 8.77551C9.8649 8.77551 10.0409 11.5106 9.45389 11.8503C9.04089 12.0802 8.49089 11.6045 7.29089 9.43121C6.67789 8.32521 6.21489 7.08761 6.21489 7.08761C6.21489 7.08761 6.1279 6.86281 5.9659 6.73121C5.7769 6.58641 5.50189 6.53371 5.50189 6.53371L2.6389 6.56001C2.6389 6.56001 2.2139 6.57411 2.0649 6.77071C1.9269 6.94181 2.05189 7.31051 2.05189 7.31051C2.05189 7.31051 4.28989 12.829 6.82889 15.608C9.15389 18.1552 11.7919 17.9911 11.7919 17.9911L11.7499 17.9428Z" fill="white"/>
                        </svg>
                    </a>
                </li>
            </ul>
      </div>
    </div>
  </div>
    <script>

        const email = document.querySelector('#id_email');
        const pass = document.querySelector('#id_password1');
        const pass2 = document.querySelector('#id_password2');
        const checkbox = document.querySelector('#check');
        const button = document.querySelector('.login-button');


        email.addEventListener('input', changeBackground1);
        pass.addEventListener('input', changeBackground1);
        pass2.addEventListener('input', changeBackground1);
        checkbox.addEventListener('change', changeBackground1)

        function changeBackground1() {
            if (email.value !== '' && pass.value !== '' && pass2.value !== '' && checkbox.checked) {
                button.classList.add('active');
                button.disabled = false;
            } else {
                button.classList.remove('active');
                button.disabled = true;
            }
        }

    </script>
{% endblock %}
{% block footer %}{% endblock %}
